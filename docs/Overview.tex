\documentclass[letterpaper,10pt]{article}

\usepackage{fullpage}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{nameref}

\usepackage[underline=true,rounded corners=false]{pgf-umlsd}

\title{CSAL Database Project Introduction}
\author{Craig Kelly}

\begin{document}

% Force pdflatex to properly use letter as page size (instead
% of defaulting to A4)
\special{papersize=8.5in,11in}
\setlength{\pdfpageheight}{\paperheight}
\setlength{\pdfpagewidth}{\paperwidth}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\maketitle
\tableofcontents
\pagebreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

This repository contains code for storing and displaying data stored as
part of the CSAL project.  The use cases and the code produced are described
below.  The short version is that the data is stored in a MongoDB instance,
there is a C\# library for accessing the database, and there is a Web API
wrapping the DLL.  In addition, the Web API server provides a very simple
ASP.NET MVC application for viewing the data.  Because of the dependence
of the Web API on the "core" library, the only deployment information is below
in section \ref{subsec:deploy} \nameref{subsec:deploy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Use Cases}

TODO: diagram of all of the below

TODO: direct DLL use for storing JSON records of student interaction

TODO: application reporting student interaction via the ReST API

TODO: Teacher's viewing current status of students/lessons/classes

TODO: data admin (pre-population of the database for new locations)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Database}

TODO: "raw" JSON format and storage

TODO: other entities and how inferred

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{CSALMongo DLL}

TODO: overall design

TODO: brief intro to test project

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{CSALMongo Web API}
\label{sec:webapi}

\subsection{ReST API}

TODO

\subsection{User Interface}

TODO

\subsection{Logging}

TODO

\subsection{Deployment}
\label{subsec:deploy}
TODO

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Sequence Diagrams}

\subsection{Example of User Interaction}

\begin{sequencediagram}
    \newthread{web}{GUI User}
    \newinst[1]{api}{Web API}
    \newinst[1]{dll}{CSALMongo DLL}
    \newinst[1]{mongo}{MongoDB}
    
    \begin{call}{web}{View Lessons}{api}{render view}
        \begin{call}{api}{findLessons()}{dll}{return list}
            \begin{call}{dll}{find()}{mongo}{query response}
            \end{call}
        \end{call}
    \end{call}
\end{sequencediagram}

\subsection{Example of ReST API Call}

TODO

\begin{sequencediagram}
\end{sequencediagram}

\subsection{Example of Direct DLL Use}

TODO

\begin{sequencediagram}
\end{sequencediagram}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
